(function(){"use strict";var e={4888:function(e,t,o){var n=o(9242),a=o(3396);const r={id:"app"},s=(0,a._)("h1",null,"Movie Searcher",-1);function i(e,t,o,n,i,l){const d=(0,a.up)("MovieList"),c=(0,a.up)("MovieDetails");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("header",null,[s,(0,a._)("nav",null,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>i.showMovieList&&i.showMovieList(...e))},"Home"),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>l.goBackToMovieList&&l.goBackToMovieList(...e))},"Back to List")])]),i.showMovieList?((0,a.wg)(),(0,a.j4)(d,{key:0,movies:i.movies,onShowMovieDetails:l.showMovieDetails},null,8,["movies","onShowMovieDetails"])):((0,a.wg)(),(0,a.j4)(c,{key:1,movie:i.selectedMovie,onGoBack:l.goBackToMovieList},null,8,["movie","onGoBack"]))])}var l=o(7139);const d=e=>((0,a.dD)("data-v-68efe96d"),e=e(),(0,a.Cn)(),e),c=d((()=>(0,a._)("h2",null,"Search Results",-1))),v=d((()=>(0,a._)("label",{for:"sort"},"Sort by:",-1))),u=(0,a.uE)('<option value="popularity.desc" data-v-68efe96d>Popularity Descending</option><option value="popularity.asc" data-v-68efe96d>Popularity Ascending</option><option value="vote_average.desc" data-v-68efe96d>User Rating Descending</option><option value="vote_average.asc" data-v-68efe96d>User Rating Ascending</option><option value="release_date.desc" data-v-68efe96d>Release Date Descending</option><option value="release_date.asc" data-v-68efe96d>Release Date Ascending</option>',6),h=[u],p=d((()=>(0,a._)("label",{for:"genre"},"Filter by Genre:",-1))),g=d((()=>(0,a._)("option",{value:""},"All Genres",-1))),f=["value"],_=d((()=>(0,a._)("label",{for:"year"},"Filter by Release Year:",-1))),m=(0,a.uE)('<option value="" data-v-68efe96d>All Decades</option><option value="1920s" data-v-68efe96d>1920s</option><option value="1930s" data-v-68efe96d>1930s</option><option value="1940s" data-v-68efe96d>1940s</option><option value="1950s" data-v-68efe96d>1950s</option><option value="1960s" data-v-68efe96d>1960s</option><option value="1970s" data-v-68efe96d>1970s</option><option value="1980s" data-v-68efe96d>1980s</option><option value="1990s" data-v-68efe96d>1990s</option><option value="2000s" data-v-68efe96d>2000s</option><option value="2010s" data-v-68efe96d>2010s</option><option value="2020s" data-v-68efe96d>2020s</option>',12),w=[m],M=["src"],y=["onClick"];function D(e,t,o,r,s,i){return(0,a.wg)(),(0,a.iD)("div",null,[c,(0,a._)("div",null,[v,(0,a.wy)((0,a._)("select",{id:"sort","onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedSort=e),onChange:t[1]||(t[1]=(...e)=>i.handleSortChange&&i.handleSortChange(...e))},h,544),[[n.bM,s.selectedSort]])]),(0,a._)("div",null,[p,(0,a.wy)((0,a._)("select",{id:"genre","onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedGenre=e),onChange:t[3]||(t[3]=(...e)=>i.handleGenreChange&&i.handleGenreChange(...e))},[g,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.genres,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,l.zw)(e.name),9,f)))),128))],544),[[n.bM,s.selectedGenre]])]),(0,a._)("div",null,[_,(0,a.wy)((0,a._)("select",{id:"year","onUpdate:modelValue":t[4]||(t[4]=e=>s.selectedDecade=e),onChange:t[5]||(t[5]=(...e)=>i.handleDecadeChange&&i.handleDecadeChange(...e))},w,544),[[n.bM,s.selectedDecade]])]),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.searchTerm=e),onInput:t[7]||(t[7]=(...e)=>i.searchMovies&&i.searchMovies(...e)),placeholder:"Search for movies"},null,544),[[n.nr,s.searchTerm]]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.filteredMovies,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},[(0,a._)("img",{src:i.getMoviePosterUrl(e.poster_path),alt:"Movie Poster"},null,8,M),(0,a._)("h3",null,(0,l.zw)(e.title),1),(0,a._)("p",null,(0,l.zw)(i.truncateText(e.overview)),1),(0,a._)("p",null,"Rating: "+(0,l.zw)(e.vote_average),1),(0,a._)("button",{onClick:t=>i.showMovieDetails(e)},"View Details",8,y)])))),128))])])}var b=o(4161);const k="599fc8864a2552f8bf6dec2b485569f0",C="https://api.themoviedb.org/3";var G={props:["movies"],data(){return{fetchedMovies:[],genres:[],selectedSort:"popularity.desc",selectedGenre:"",selectedDecade:"",searchTerm:""}},methods:{getMoviePosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},async fetchGenres(){try{const e=await b.Z.get(`${C}/genre/movie/list`,{params:{api_key:k}});this.genres=e.data.genres}catch(e){console.error("Error fetching genre data:",e)}},async searchMovies(){try{const e=this.getReleaseYearRange(this.selectedDecade),t=await b.Z.get(`${C}/search/movie`,{params:{api_key:k,query:this.searchTerm,sort_by:this.selectedSort,with_genres:this.selectedGenre,"primary_release_date.gte":e.start,"primary_release_date.lte":e.end}});this.fetchedMovies=t.data.results}catch(e){console.error("Error fetching movie data:",e)}},showMovieDetails(e){this.$emit("show-movie-details",e)},handleSortChange(){this.searchMovies()},handleGenreChange(){this.searchMovies()},handleDecadeChange(){this.searchMovies()},truncateText(e){const t=150;return e.length>t?e.slice(0,t)+"...":e},getReleaseYearRange(e){switch(e){case"1920s":return{start:"1920-01-01",end:"1929-12-31"};case"1930s":return{start:"1930-01-01",end:"1939-12-31"};case"1940s":return{start:"1940-01-01",end:"1949-12-31"};case"1950s":return{start:"1950-01-01",end:"1959-12-31"};case"1960s":return{start:"1960-01-01",end:"1969-12-31"};case"1970s":return{start:"1970-01-01",end:"1979-12-31"};case"1980s":return{start:"1980-01-01",end:"1989-12-31"};case"1990s":return{start:"1990-01-01",end:"1999-12-31"};case"2000s":return{start:"2000-01-01",end:"2009-12-31"};case"2010s":return{start:"2010-01-01",end:"2019-12-31"};case"2020s":return{start:"2020-01-01",end:"2029-12-31"};default:return{start:"",end:""}}}},created(){this.fetchGenres()},computed:{filteredMovies(){let e=this.fetchedMovies;if(this.selectedGenre&&(e=e.filter((e=>e.genre_ids.includes(parseInt(this.selectedGenre))))),this.selectedDecade){const t=this.getReleaseYearRange(this.selectedDecade);e=e.filter((e=>e.release_date>=t.start&&e.release_date<=t.end))}return e}}},R=o(89);const L=(0,R.Z)(G,[["render",D],["__scopeId","data-v-68efe96d"]]);var S=L;const U=e=>((0,a.dD)("data-v-67097ec8"),e=e(),(0,a.Cn)(),e),O=U((()=>(0,a._)("h2",null,"Movie Details",-1))),T={class:"movie-details"},B=["src"],P=U((()=>(0,a._)("strong",null,"Overview:",-1))),j=U((()=>(0,a._)("strong",null,"Director:",-1))),z=U((()=>(0,a._)("strong",null,"Genre:",-1)));function x(e,t,o,n,r,s){return(0,a.wg)(),(0,a.iD)("div",null,[O,(0,a._)("div",T,[(0,a._)("img",{src:s.getMoviePosterUrl(o.movie.poster_path),alt:"Movie Poster"},null,8,B),(0,a._)("h3",null,(0,l.zw)(o.movie.title),1),(0,a._)("p",null,[P,(0,a.Uk)(" "+(0,l.zw)(o.movie.overview),1)]),(0,a._)("p",null,[j,(0,a.Uk)(" "+(0,l.zw)(o.movie.director),1)]),(0,a._)("p",null,[z,(0,a.Uk)(" "+(0,l.zw)(o.movie.genre),1)]),(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>s.goBack&&s.goBack(...e))},"Back to Results")])])}var A={props:["movie"],methods:{getMoviePosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},goBack(){this.$emit("go-back")}}};const Y=(0,R.Z)(A,[["render",x],["__scopeId","data-v-67097ec8"]]);var $=Y,E={name:"App",components:{MovieList:S,MovieDetails:$},data(){return{showMovieList:!0,movies:[],selectedMovie:null}},methods:{showMovieDetails(e){this.showMovieList=!1,this.selectedMovie=e},goBackToMovieList(){this.showMovieList=!0,this.selectedMovie=null}}};const V=(0,R.Z)(E,[["render",i]]);var Z=V;(0,n.ri)(Z).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,r){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],r=e[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<s&&(s=r));if(i){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,s=n[0],i=n[1],l=n[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var c=l(o)}for(t&&t(n);d<s.length;d++)r=s[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self["webpackChunkmovie_search_app"]=self["webpackChunkmovie_search_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4888)}));n=o.O(n)})();
//# sourceMappingURL=app.bd874018.js.map